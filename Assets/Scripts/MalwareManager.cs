using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using System.Linq;


public class MalwareManager : MonoBehaviour
{
    //private Dictionary<GameObject, float> activeAntivirus = new Dictionary<GameObject, float>();

    // private AntivirusManager antivirusManager;

    // public Dictionary<GameObject, bool> infectedComputers = new Dictionary<GameObject, bool>();


    // private void Start()
    // {
    //     antivirusManager = FindObjectOfType<AntivirusManager>();
    // }


    // /// <summary>
    // /// Active l'antivirus sur l'ordinateur sélectionné.
    // /// </summary>
    // public void ActivateMalware()
    // {
    //     // Affiche l'ordinateur sélectionné si n'a pas la clé USB
    //     GameObject selectedComputer = InteractUSBKey.currentMissionObject != null
    //         ? InteractUSBKey.currentMissionObject
    //         : InteractMissionObject.currentMissionObject;

    //     // Vérifie si l'ordinateur est protégé
    //     if (antivirusManager.activeAntivirus != null && !antivirusManager.activeAntivirus.ContainsKey(selectedComputer))
    //     {
    //         // Enregistre dans l'historique
    //         if (!infectedComputers.ContainsKey(selectedComputer))
    //         {
    //             Debug.Log($"Ajout de {selectedComputer.name} à infectedComputers.");

    //             infectedComputers[selectedComputer] = true;
    //             Debug.Log($"Ajout : {selectedComputer.name} ({selectedComputer.GetInstanceID()})");

    //         }
    //     }
    //     else
    //     {
    //         Debug.Log($"L'ordinateur {selectedComputer.name} est protégé.");

    //     }

    // }

    // // Vérifie si un ordinateur est infecté
    // public bool IsInfected(GameObject computer)
    // {
    //     if (computer != null && infectedComputers.ContainsKey(computer))
    //     {
    //         Debug.Log($"L'ordinateur {computer.name} ({computer.GetInstanceID()}) est infecté.");
    //         return true;
    //     }
    //     else if (computer == null)
    //     {
    //         Debug.Log($"L'ordinateur est null.");
    //         return false;
    //     }
    //     else
    //     {
    //         Debug.Log($"L'ordinateur {computer.name} n'est pas infecté.");
    //         return false;
    //     }

    // }


}
